# Helios Engine

> Framework-agnostic programmatic video creation for the web

Helios is a modern engine for creating videos programmatically using standard web technologiesâ€”HTML, CSS, and JavaScript. Unlike Remotion (React-only), Helios works with any framework or vanilla JS.

## Quick Facts
- **License**: Elastic License 2.0 (free commercial use, no SaaS resale)
- **Status**: Core: Stable (v3.7+), Studio: Alpha (v0.70+)
- **Frameworks**: React, Vue, Svelte, vanilla JS
- **Animation**: Standard CSS, Web Animations API (WAAPI), any animation library

## Core API

```typescript
import { Helios } from '@helios-project/core';

const helios = new Helios({
  duration: 10,  // seconds
  fps: 30,
  autoSyncAnimations: true,
  inputProps: { title: "Hello World" }, // Dynamic data
  captions: [{ id: "1", startTime: 0, endTime: 1000, text: "Welcome" }] // SRT string or objects
});

helios.subscribe(({ currentFrame, inputProps }) => {
  // Drive animations with progress or props
});

// Ensure fonts, images, and media are ready before rendering
await helios.waitUntilStable();

helios.play();
```

## Packages
- `@helios-project/core` - Headless video engine (state, timeline, subscriptions)
- `@helios-project/player` - Web Component player (`<helios-player>`)
- `@helios-project/renderer` - Server-side rendering (Playwright, FFmpeg)
- `@helios-project/studio` - Visual editor and asset manager (Alpha)
- `@helios-project/cli` - Command-line interface

## Animation Approach
Helios uses native browser APIs, not proprietary hooks:

```css
/* Standard CSS animations work */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
.element { animation: fadeIn 1s ease-out; }
```
The engine controls `document.timeline.currentTime` to seek animations frame-accurately.

## Architecture
### Rendering Paths
1. **Canvas-to-Video** (MVP): WebCodecs API for Three.js, Pixi.js, WebGL
2. **DOM-to-Video**: Playwright screenshots for HTML/CSS/SVG

### Components
- **Helios class**: Headless state machine (currentFrame, isPlaying, etc.)
- **Framework adapters**: React hook, Vue composable, Svelte store
- **Web Component**: `<helios-player>` for browser preview
- **Renderer**: FFmpeg with piped frames (no temp files)

## vs Remotion
| | Helios | Remotion |
|---|--------|----------|
| Framework | Any | React only |
| Animation | CSS, WAAPI | `interpolate()`, `spring()` |
| Pricing | Free | $100+/mo for 4+ devs |
| Maturity | Alpha | Production-ready |
| Distributed rendering | Planned | Available |

## Agent Skills
Skills for AI agents are in `.agents/skills/helios/`:
- `core/SKILL.md` - Core API patterns, state management, subscriptions
- `renderer/SKILL.md` - Rendering pipeline usage
- `player/SKILL.md` - Player component usage
- `studio/SKILL.md` - Studio usage and extensions

## Key Files for Agents
- `README.md` - Vision document
- `docs/BACKLOG.md` - Feature backlog
- `docs/PROGRESS.md` - Completed work
- `docs/status/[ROLE].md` - Domain-specific status
- `.sys/llmdocs/context-*.md` - Architecture summaries
- `packages/core/src/index.ts` - Core public API
- `packages/player/src/index.ts` - Player public API
- `packages/renderer/src/index.ts` - Renderer public API

## Diagnostics
```typescript
const report = await Helios.diagnose();
// { waapi: boolean, webCodecs: boolean, videoCodecs: {...}, audioCodecs: {...}, ... }
```

## Roadmap
### V1.x (Active)
- **Helios Studio**: Alpha v0.70+ (MCP Server, Persistent Jobs, Recursive Discovery)
- **Core**: Stable v3.7+ (Audio Looping/Fading, Reactive Virtual Time)
- **Player**: Feature Complete v0.50+ (Audio Tracks, Persistence, PiP)
- **Renderer**: Stable v1.53+ (H.264 Default, Blob Audio, Recursive Shadow DOM)

### AI Integration
- **Studio MCP Server**: Inspect, create, and render compositions via LLM tools
- **System Prompt**: Programmatic context generation for agents

### V2 (Next)
- Distributed rendering (Lambda, Cloud Run)
- Advanced audio engine (Tone.js integration)

### V3 (Future)
- Native Node.js encoding (beamcoder)

## Links
- Repository: https://github.com/gavinbintz/helios
- Documentation: ./docs/
- Examples: ./examples/
- Agent Prompts: ./docs/prompts/
